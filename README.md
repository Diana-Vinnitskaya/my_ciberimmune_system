# Постановка задачи
## Бизнес функция
Система отслеживания поставок заказов на всех этапах
## Концепция безопасности продукта
## Бизнесс процесс
## Роли пользователей
|№  | Название | Скомпрометированная часть системы | Нарушенная цель безопасности |
|----|----|----|----|
|1 | Менеджер не проверяет обновление | Manager | 1 |
|2 | Менеджер игнорирует результат проверки | Manager | 1 |
|3 |  Storage подменяет файл после проверки  | Storage | 1 |
## Высокоуровневая архитектура
| Название | Назначение | Комментарий |
|----|----|----|
|*Mobile App* | хранит файлы с обновлением | внешний по отношению к системе сервис, имитатор сервера с обновлениями в интернете |
|*Gateway service API* | сервис с бизнес-логикой | заглушка |
|*eShop server application* | непосредственно применяет обновление | работает в одном контейнере с *Application*, чтобы иметь возможность обновлять его файлы |
|*Order processing system*  | скачивает данные из сетей общего пользования | в примере скачивает данные с *File server* |
|*Logistics managment system* | оркестрирует весь процесс обновления | 
|*SQL Database* | проверят корректность скачанного обновления |
|*Post-delivery system* | осуществляет хранение скачанного обновления | 
|*Blockchain provider*| авторизует операцию, если она удовлетворяет заданным правилам или блокирует её в противном случае|
|*Ethereum users* | шина сообщений и брокер - сервис передачи сообщений от источника получателям | kafka+zookeeper |
|*Transaction builder-signer* | шина сообщений и брокер - сервис передачи сообщений от источника получателям | kafka+zookeeper | 
|*Ethereum router* | шина сообщений и брокер - сервис передачи сообщений от источника получателям | kafka+zookeeper | 
|*IoT devices* | шина сообщений и брокер - сервис передачи сообщений от источника получателям | kafka+zookeeper |
|*Monitoring IoT devices system* | шина сообщений и брокер - сервис передачи сообщений от источника получателям | kafka+zookeeper |
|

## Цели и предположения безопасности
### Цели безопасности
1. Только авторизованные пользователи делают заказ
2. На каждом этапе цепочки поставки данные подтверждаются с помощью блокчейна
### Предположения безопасности
1. Не рассматриваются атаки с использованием физического доступа(кража товара во время транспортировки или со склада и др.)
2. 
